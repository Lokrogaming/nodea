:root{
  --tile: clamp(22px, 8vw, 40px);
  --gap: 3px;
  --radius: 10px;
  --shadow: 0 6px 18px rgba(0,0,0,.08);
  --accent: #2563eb;
}

*{box-sizing:border-box}
html,body{margin:0}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:#f6f7f9;color:#0f172a}

.topbar{
  background:#0f172a;color:#fff;padding:12px 16px;
  display:flex;flex-direction:column;gap:6px;align-items:center;box-shadow:var(--shadow)
}
.topbar h1{margin:0;font-size:1.25rem}
.meta{opacity:.85;display:flex;gap:12px;flex-wrap:wrap;font-size:.9rem}

.wrap{padding:14px 12px;max-width:980px;margin:0 auto}

.controls{
  display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:center;margin-bottom:12px
}
.controls input[type="number"]{width:84px;padding:8px;border:1px solid #e5e7eb;border-radius:8px}
.controls button{
  padding:10px 14px;border-radius:10px;border:1px solid #e5e7eb;background:#fff;cursor:pointer;box-shadow:var(--shadow)
}
.controls button:hover{border-color:#d1d5db}
.controls label{display:flex;align-items:center;gap:6px}

.map{
  --cols: 10;
  display:grid;
  grid-template-columns: repeat(var(--cols), var(--tile));
  gap: var(--gap);
  justify-content:center;
  padding:10px;
  background:#fff;border-radius:12px;box-shadow:var(--shadow);
}
.cell{
  width:var(--tile);height:var(--tile);
  border:1px solid #e2e8f0;border-radius:6px;background:#f8fafc;cursor:pointer;
  transition:transform .05s ease, background .15s ease, border-color .15s ease;
  touch-action:manipulation; /* mobile: kein pinch-zoom beim tippen */
}
.cell.active{background:#34d399;border-color:#10b981}
.cell:active{transform:scale(.96)}

.popup{
  position:fixed;inset:0;background:rgba(15,23,42,.45);
  display:flex;align-items:center;justify-content:center;padding:16px;z-index:50
}
.hidden{display:none}
.popup-card{
  width:min(96vw, 520px);background:#fff;border-radius:16px;padding:16px 14px;box-shadow:var(--shadow);
  display:flex;flex-direction:column;gap:10px
}
.popup-card h2{margin:4px 0 6px 0}
.popup-card label{display:flex;flex-direction:column;gap:6px;font-size:.95rem}
.popup-card input,.popup-card textarea{
  padding:10px;border:1px solid #e5e7eb;border-radius:8px;font:inherit
}
.actions{display:flex;justify-content:flex-end;gap:10px;margin-top:6px}
.actions button{
  padding:10px 14px;border-radius:10px;border:1px solid #e5e7eb;background:#fff;cursor:pointer
}
.actions button:last-child{background:var(--accent);border-color:var(--accent);color:#fff}

@media (max-width:600px){
  :root{ --tile: clamp(22px, 9vw, 36px); }
  .controls{justify-content:space-between}
}
